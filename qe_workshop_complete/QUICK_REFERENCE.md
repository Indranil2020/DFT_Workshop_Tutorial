# Quantum ESPRESSO Workshop - Quick Reference Card

## Complete Workflow

```
1. Convergence Testing (MUST DO FIRST)
   ├── ecutwfc convergence (Notebook 03)
   ├── k-point convergence (Notebook 04)
   └── Lattice optimization (Notebook 05)

2. Property Calculations (AFTER convergence)
   ├── Band structure (Notebook 06)
   ├── DOS/PDOS (Notebook 07)
   └── Other properties...
```

## Key Parameters

| Parameter | Description | Typical Values |
|-----------|-------------|----------------|
| ecutwfc | Wavefunction cutoff | 30-80 Ry |
| ecutrho | Charge cutoff | 4-12× ecutwfc |
| conv_thr | SCF threshold | 1e-6 to 1e-10 |
| K_POINTS | BZ sampling | 4×4×4 to 12×12×12 |
| degauss | Smearing | 0.01-0.02 Ry |

## Ecutrho Guidelines

| PP Type | ecutrho |
|---------|---------|
| NC | 4× ecutwfc |
| US | 8-12× ecutwfc |
| PAW | 8× ecutwfc |

## Calculation Types

| Type | Purpose | Input |
|------|---------|-------|
| scf | Self-consistent | - |
| relax | Ionic relaxation | tprnfor |
| vc-relax | Cell+ionic | tstress |
| bands | Band structure | after scf |
| nscf | Dense k-mesh (DOS) | after scf |

## High-Symmetry Points (FCC)

```
Point   Crystal coordinates
Γ       (0.000, 0.000, 0.000)
X       (0.500, 0.000, 0.500)
W       (0.500, 0.250, 0.750)
K       (0.375, 0.375, 0.750)
L       (0.500, 0.500, 0.500)

Path: Γ → X → W → K → Γ → L
```

## Unit Conversions

| From | To | Factor |
|------|-----|--------|
| Bohr | Å | × 0.529177 |
| Ry | eV | × 13.6057 |
| Ry/Bohr³ | GPa | × 14710.5 |

## Volume ↔ Lattice (FCC)
```
V = a³/4  (primitive cell)
a = (4V)^(1/3)
```

## Birch-Murnaghan EOS

```python
def birch_murnaghan(V, E0, V0, B0, B0_prime):
    eta = (V0/V)**(2/3)
    E = E0 + (9*V0*B0/16) * (
        (eta-1)**3 * B0_prime + 
        (eta-1)**2 * (6 - 4*eta)
    )
    return E
```

## Convergence Criteria

| Accuracy Level | ΔE threshold |
|----------------|--------------|
| Standard | 1 meV/atom |
| High | 0.1 meV/atom |
| Forces | 0.01 meV/atom |

## Band Structure Workflow

```
1. SCF (dense k-mesh)      → pw.x
2. bands (k-path)          → pw.x
3. post-process            → bands.x
4. plot                    → Python
```

## DOS Workflow

```
1. SCF (converged k-mesh)  → pw.x
2. NSCF (very dense mesh)  → pw.x
3. dos.x                   → dos.x
4. projwfc.x (for PDOS)    → projwfc.x
```

## Troubleshooting

| Problem | Solution |
|---------|----------|
| SCF not converging | Reduce mixing_beta to 0.3 |
| Memory error | Reduce k-points or ecutwfc |
| Wrong band gap | Expected (use GW) |
| Negative phonons | Relax structure first |

## Files Structure

```
qe_workshop/
├── notebooks/
│   ├── 01_Introduction_and_Setup.ipynb
│   ├── 02_SCF_Calculation_Basics.ipynb
│   ├── 03_Ecutwfc_Convergence.ipynb
│   ├── 04_Kpoint_Convergence.ipynb
│   ├── 05_Lattice_Optimization.ipynb
│   ├── 06_Band_Structure.ipynb
│   ├── 07_DOS_Calculation.ipynb
│   └── 08_Summary_and_Exercises.ipynb
├── pseudopotentials/
│   └── Si.upf
├── outputs/
│   └── (calculation results)
├── converged_parameters.json
└── test_all_code.py
```

## Silicon (PBE) Reference Values

| Property | DFT (PBE) | Experiment |
|----------|-----------|------------|
| Lattice (Å) | ~5.47 | 5.43 |
| Bulk modulus (GPa) | ~90-95 | 98.8 |
| Band gap (eV) | ~0.5-0.6 | 1.17 |
| Gap type | Indirect | Indirect |

## Essential Commands

```bash
# Run pw.x
pw.x -in input.in > output.out

# Run bands.x
bands.x -in bands_pp.in > bands_pp.out

# Run dos.x
dos.x -in dos.in > dos.out

# Run projwfc.x
projwfc.x -in projwfc.in > projwfc.out
```

## Pseudopotential Sources

1. SSSP Library (recommended): https://materialscloud.org/discover/sssp
2. PSlibrary: https://dalcorso.github.io/pslibrary/
3. QE Website: https://pseudopotentials.quantum-espresso.org/

---
*Generated by QE Workshop*
